name: base
channels:
  - jaimergp/label/unsupported-cudatoolkit-shim
  - conda-forge
  - openeye
dependencies:
  - python =3.9

  # gufe dependencies
  - numpy<1.24  # https://github.com/numba/numba/issues/8615#issuecomment-1360792615
  - networkx
  - rdkit
  - pip
  - pydantic
  - openff-toolkit
  - openff-units >=0.2.0
  - openff-models >=0.0.4
  - openeye-toolkits
  - typing-extensions

  # alchemiscale dependencies
  ## state store
  - neo4j-python-driver
  - py2neo
  - monotonic    # needed by py2neo, but not pulled in
  #- docker-py    # for grolt

  ## object store
  - boto3        # aws s3

  ## api(s)
  - fastapi
  - uvicorn
  - gunicorn
  - python-jose
  - passlib
  - bcrypt
  - python-multipart
  - starlette
  - httpx
  - cryptography
  - requests

  ## cli
  - click

  # testing
  #- pytest
  #- pytest-xdist
  #- pytest-cov
  #- coverage
  #- moto

  # needed for openfe-benchmark tests
  - lomap2>=2.1.0
  - openmmtools
  - openmmforcefields
    
  ## needed for perses
  - openmoltools
  - cloudpathlib
  - dask
  - distributed
  - numba
  - pymbar >=3.0.6,<4

  - pip:
    #- git+https://github.com/dotsdl/grolt@relax-cryptography # neo4j test server deployment
    - git+https://github.com/OpenFreeEnergy/gufe
    - git+https://github.com/OpenFreeEnergy/openfe
    - git+https://github.com/OpenFreeEnergy/openfe-benchmarks
    #- git+https://github.com/mikemhenry/openff-models.git@support_nested_models
    - git+https://github.com/choderalab/perses.git@protocol-neqcyc
    #- git+https://github.com/openforcefield/protein-ligand-benchmark
